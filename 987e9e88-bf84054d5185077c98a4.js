"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[914],{77503:function(e,t,l){l.d(t,{MF:function(){return P},MH:function(){return B},SL:function(){return F},UW:function(){return V},cI:function(){return _},dd:function(){return E},ie:function(){return M}});var o=l(64572),a=l(15785),n=l(15007),r=l(95223),i=l(75900),s=l.n(i),d=l(65480),c=l(47720),u=l(59273),p=l(48325),m=l(27860),g=l(68457),v=l(8),h=l(53971);function f(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,o)}return l}function y(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?f(Object(l),!0).forEach((function(t){(0,o.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):f(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}const b=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,w=/^(?=[A-Za-z0-9\s]{3,}$)[A-Za-z0-9\s]*$/;var x={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},Z={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},O={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},C={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},D={name:"oq6u0f",styles:"display:flex;gap:10px"},S={name:"1cl34tp",styles:"display:flex;flex-direction:column;width:100%;gap:5px"},k={name:"9s9ddd",styles:"display:flex;gap:30px;flex-direction:column;width:100%"},A={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},z={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},N={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"};const F=e=>{var t,l;let{formProps:o,credentialType:i,service:v}=e;const{0:f,1:F}=(0,n.useState)(!1),{0:P,1:j}=(0,n.useState)(!1),{0:H,1:I}=(0,n.useState)({}),{0:U,1:T}=(0,n.useState)("`Unable to create credential. Error <code>:<error text>. Please try to submit the form again`"),{0:q,1:L}=(0,n.useState)(!0),{0:J,1:K}=(0,n.useState)(!1),{0:G,1:R}=(0,n.useState)([]),{0:W,1:$}=(0,n.useState)({}),{0:X,1:Y}=(0,n.useState)(!1),{0:Q,1:ee}=(0,n.useState)(!1),{0:te,1:le}=(0,n.useState)(!1),{0:oe,1:ae}=(0,n.useState)(!1),{0:ne,1:re}=(0,n.useState)(!1),{0:ie,1:se}=(0,n.useState)({}),{0:de,1:ce}=(0,n.useState)(!0),ue=null==o?void 0:o.CredentialForm,pe=null==ue||null===(t=ue.children)||void 0===t?void 0:t.filter((e=>Object.keys(e.props).some((e=>e.startsWith("contextHelp"))))),me=()=>{var e;const t=null===(e=localStorage)||void 0===e?void 0:e.getItem("OrgID");(0,g.Xu)().then((e=>{(null==e?void 0:e.length)>1?ce(!0):ce(!1)})),t?se(JSON.parse(atob(t))):(0,g.Xu)(se)},ge=()=>{const e=[],t={label:"Language",selectOptions:[]};null==ue||ue.children.forEach((l=>{let{type:o,props:n}=l;var r;"Downloads"===(null==o?void 0:o.name)&&null!=n&&n.children&&(t.required=n.required||!1,(r=t.selectOptions).push.apply(r,(0,a.Z)([].concat(n.children).map((e=>{let{props:{title:t,href:l}}=e;return{title:t,href:l}})))),$((e=>{var t,l;return y(y({},e),Array.isArray(n.children)?null:{Download:null===(t=n.children)||void 0===t||null===(l=t.props)||void 0===l?void 0:l.title})})));e.push({[null==o?void 0:o.name]:y(y({},n),{},{required:"CredentialName"===(null==o?void 0:o.name)||(null==n?void 0:n.required)})})})),t.selectOptions.length&&(e.push({Download:t}),1===t.selectOptions.length&&$((e=>{var l;return y(y({},e),{},{Download:null===(l=t.selectOptions[0])||void 0===l?void 0:l.title})}))),R(e),me(),ve&&(K(!0),L(!1))};(0,n.useEffect)((()=>{me(),setTimeout((()=>{re(!1)}),1e4)}),[ne]);const ve=localStorage.getItem("apiKey");(0,n.useEffect)((()=>{q&&j(!1)}),[q]),(0,n.useEffect)((()=>{if(!J&&q){const e=y({},W);for(const t in e)e[t]="";$(e),ae(!1),ge()}}),[J]),(0,n.useEffect)((()=>{ge()}),[]),(0,n.useEffect)((()=>{if(P){const e=y({},W);for(const t in e)e[t]="";$(e)}}),[P]),(0,n.useEffect)((()=>{var e,t;const l=null===(e=Array.from((null==ue?void 0:ue.children)||[]).filter((e=>{var t;return(null==e||null===(t=e.props)||void 0===t?void 0:t.required)||"CredentialName"===e.type.name})))||void 0===e?void 0:e.map((e=>e.type.name)),o=w.test(W.CredentialName),a=null===(t=W.AllowedOrigins)||void 0===t?void 0:t.split(",").map((e=>b.test(e.trim()))),n=!l.includes("AllowedOrigins")||(null==a?void 0:a.every((e=>!0===e)))&&a.length<=5,r=o&&l.every((e=>W[e]))&&n&&!0===W.Agree;le(r)}),[W]),(0,n.useEffect)((()=>{setTimeout((()=>{ae(!1)}),8e3)}),[oe]);const he=(e,t)=>{const l="Downloads"===t||"Agree"===t?e.target.checked:e.target.value;$((e=>y(y({},e),{},{[t]:l})))},fe=G.find((e=>"Side"in e));return(0,r.tZ)(n.default.Fragment,null,!Q&&q&&!f&&(0,r.tZ)("div",{className:s()(null==ue?void 0:ue.className),css:N},(0,r.tZ)("div",{css:(0,r.iv)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);padding-left:var(--spectrum-global-dimension-size-800);width:calc(7 * 100% / 12);height:100%;text-align:left;@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){padding:0;width:100%;}","")},(null==ue?void 0:ue.title)&&(0,r.tZ)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==ue?void 0:ue.title),(null==ue?void 0:ue.paragraph)&&(0,r.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==ue?void 0:ue.paragraph),(0,r.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:z},"You're creating this credential in [",(0,r.tZ)("b",null,null==ie?void 0:ie.name),"].",de&&(0,r.tZ)("button",{tabIndex:"0",css:A,onClick:()=>Y(!0)},"Change organization?"))),(0,r.tZ)("div",{css:(0,r.iv)("display:flex;gap:35px;padding-left:var(--spectrum-global-dimension-size-800);@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){flex-direction:column;padding-left:0;}","")},(0,r.tZ)("div",{css:(0,r.iv)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){width:100%;}","")},(0,r.tZ)("div",{css:k},G.map(((e,t)=>{let{CredentialName:l,AllowedOrigins:o,Downloads:a,Download:i,Side:s}=e;return(0,r.tZ)(n.default.Fragment,null,!s&&(0,r.tZ)(n.default.Fragment,null,i?(0,r.tZ)(n.default.Fragment,null,W.Downloads&&i&&(0,r.tZ)(V,{downloadProp:i,formData:W,isFormValue:pe,handleChange:he})):(0,r.tZ)("div",{css:S,key:t},l&&(0,r.tZ)(B,{nameProps:l,isFormValue:pe,formData:W,handleChange:he}),o&&(0,r.tZ)(E,{originsProps:o,isFormValue:pe,formData:W,handleChange:he}),a&&(0,r.tZ)(M,{downloadsProp:a,type:"Downloads",formData:W,handleChange:he}))))})),(0,r.tZ)("div",{css:D},(0,r.tZ)("input",{type:"checkbox",checked:W.Agree,onChange:e=>he(e,"Agree")}),(0,r.tZ)("p",{css:C},"By checking this box, you agree to ",(0,r.tZ)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:O,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,r.tZ)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:Z,onClick:async()=>{var e,t;const l=null===(e=window.adobeIMS)||void 0===e||null===(t=e.getTokenFromStorage())||void 0===t?void 0:t.token;l||console.log("User not logged in"),F(!0),L(!1);const o={name:W.CredentialName,platform:i,description:"created for get credential",domain:W.AllowedOrigins,services:[{sdkCode:v}]};try{const e=await fetch("/console/api/organizations/"+(null==ie?void 0:ie.id)+"/integrations/adobeid",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+l,"x-api-key":"UDPWeb1"},body:JSON.stringify(o)}),t=await e.json();if(200===e.status){I(t),K(!0),ae(!0);const e={Credential:[{key:"API Key",value:null==t?void 0:t.apiKey},{key:"Allowed domains",value:W.AllowedOrigins},{key:"Organization",value:null==ie?void 0:ie.name}],credentialName:W.CredentialName,response:t,downloadOption:W.Downloads,downloadFileName:W.Download};localStorage.setItem("apiKey",btoa(JSON.stringify(e))),W.Downloads&&(0,g.qG)("/console/api/organizations/"+(null==ie?void 0:ie.id)+"/projects/"+t.projectId+"/workspaces/"+t.workspaceId+"/download",W.Download)}else if(null!=t&&t.messages){var a;ae(!0),le(!1),T(null==t||null===(a=t.messages[0])||void 0===a?void 0:a.message),L(!0)}else j(!0)}catch(n){j(!0)}finally{F(!1)}},disabled:!te},(0,r.tZ)("span",{className:"spectrum-Button-label"},"Create credential")))),fe?(0,r.tZ)(_,{sideContent:null==fe||null===(l=fe.Side)||void 0===l?void 0:l.children}):null),(0,r.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,r.iv)("color:var(--spectrum-global-color-gray-800);padding-left:var(--spectrum-global-dimension-size-800);@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){padding-left:0;}","")},"Have existing credentials?",(0,r.tZ)("a",{href:"https://developer.adobe.com/console/",css:x},"Go to Developer Console"))),oe&&(0,r.tZ)(n.default.Fragment,null,ne?(0,r.tZ)(h.F,{message:"Organization Changed",variant:"success"}):(0,r.tZ)(h.F,{message:q&&!J?U:!P&&J&&"Your credentials were created successfully.",variant:P||q&&!J?"error":"success"})),f&&!J&&(0,r.tZ)(c.g,{credentials:ue}),X&&(0,r.tZ)(p.G,{setModalOpen:Y,redirectToBeta:Q,setRedirectBetaProgram:ee,setAlertShow:ae,alertShow:oe,organizationChange:ne,setOrganization:re,setOrganizationValue:se}),P&&(0,r.tZ)(u.I,{setShowCreateForm:L,errorMessage:null==o?void 0:o.IllustratedMessage}),J&&!q&&(0,r.tZ)(d.Z,{credentialProps:o,response:H,credentialName:W.CredentialName,setShowCreateForm:L,setShowCredential:K}),Q&&(0,r.tZ)(m.Z,{joinBeta:null==o?void 0:o.JoinBetaProgram}))},P=e=>{let{side:t}=e;return t};var j={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"};const B=e=>{var t,l,o,a;let{nameProps:n,isFormValue:i,formData:s,handleChange:d}=e;const c=(null===(t=s.CredentialName)||void 0===t?void 0:t.length)<6&&0!==(null===(l=s.CredentialName)||void 0===l?void 0:l.length);return(0,r.tZ)(g.Mt,{isFormValue:i,fields:n,formData:s,isRed:c},(0,r.tZ)("div",{css:j},(0,r.tZ)("input",{type:"text",css:(0,r.iv)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:s.CredentialName,onChange:e=>d(e,"CredentialName"),placeholder:null==n?void 0:n.placeholder,maxLength:null==n?void 0:n.range}),(0,r.tZ)("span",{css:(0,r.iv)("display :",(null===(o=s.CredentialName)||void 0===o?void 0:o.length)<3&&0!==(null===(a=s.CredentialName)||void 0===a?void 0:a.length)?"block":"none",";","")},(0,r.tZ)(g.zM,null))))},E=e=>{var t,l;let{originsProps:o,isFormValue:a,type:n,formData:i,handleChange:s}=e;const d=null===(t=i.AllowedOrigins)||void 0===t?void 0:t.split(",").map((e=>b.test(e.trim()))),c=(null==d?void 0:d.every((e=>!0===e)))&&d.length<=5,u=void 0!==i.AllowedOrigins&&!c&&0!==(null===(l=i.AllowedOrigins)||void 0===l?void 0:l.length);return(0,r.tZ)(g.Mt,{isFormValue:a,fields:o,type:n,formData:i,isRed:u},(0,r.tZ)("textarea",{css:(0,r.iv)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:i.AllowedOrigins,placeholder:null==o?void 0:o.placeholder,onChange:e=>s(e,"AllowedOrigins")}))};var H={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},I={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},U={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"};const M=e=>{let{downloadsProp:t,handleChange:l,formData:o}=e;const{label:a,contextHelpLabelForLink:n,contextHelpLink:i,contextHelpText:s,contextHelp:d,contextHelpHeading:c}=t;return(0,r.tZ)("div",{css:U},(0,r.tZ)("input",{type:"checkbox",onChange:e=>l(e,"Downloads"),checked:o.Downloads}),(0,r.tZ)("p",{css:I}," ",a," "),(0,r.tZ)("div",{css:H},d&&(0,r.tZ)(v.r,{heading:c,text:s,link:i,label:n})))};var T={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"};const V=e=>{var t,l,o;let{downloadProp:a,formData:i,isFormValue:s,handleChange:d}=e;return(0,r.tZ)(n.default.Fragment,null,(null==a||null===(t=a.selectOptions)||void 0===t?void 0:t.length)>1&&(0,r.tZ)(g.Mt,{isFormValue:s,fields:a},(0,r.tZ)("select",{css:T,id:"selectBox",value:i.Download,onChange:e=>d(e,"Download")},(null==a||null===(l=a.selectOptions)||void 0===l?void 0:l.length)>1&&(0,r.tZ)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==a||null===(o=a.selectOptions)||void 0===o?void 0:o.map(((e,t)=>(0,r.tZ)("option",{key:t,"data-link":e.href,value:e.title},e.title))))))},_=e=>{let{sideContent:t}=e;return(0,r.tZ)(n.default.Fragment,null,(0,r.tZ)("div",{css:(0,r.iv)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){display:none;}","")}),(0,r.tZ)("div",{css:(0,r.iv)("width:50%;@media screen and (min-width:",g.xU,") and (max-width:",g.Ey,"){width:100%;}","")},(0,r.tZ)(P,{side:t})))}}}]);
//# sourceMappingURL=987e9e88-bf84054d5185077c98a4.js.map